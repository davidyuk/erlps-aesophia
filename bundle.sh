#!/bin/sh

PATH=~/.local/bin:$PATH purs bundle "output/*/*.js" -m Aeb.Aevm.Abi -m Aeb.Aevm.Data -m Aeb.Asm -m Aeb.Asm.Scan -m Aeb.Disassemble -m Aeb.Fate.Abi -m Aeb.Fate.Asm -m Aeb.Fate.Asm.Scan -m Aeb.Fate.Code -m Aeb.Fate.Data -m Aeb.Fate.Encoding -m Aeb.Fate.Generate.Ops -m Aeb.Fate.Maps -m Aeb.Fate.Opcodes -m Aeb.Fate.Ops -m Aeb.Fate.Pp -m Aeb.Heap -m Aeb.Memory -m Aeb.Opcodes -m Aeb.Primops -m Aefateasm -m Aeser.Api.Encoder -m Aeser.Chain.Objects -m Aeser.Contract.Code -m Aeserialization -m Aeser.Id -m Aeser.Rlp -m Aeso.Aci -m Aeso.Ast -m Aeso.Ast.Infer.Types -m Aeso.Ast.To.Fcode -m Aeso.Ast.To.Icode -m Aeso.Builtins -m Aeso.Code.Errors -m Aeso.Compiler -m Aeso.Errors -m Aeso.Fcode.To.Fate -m Aeso.Icode -m Aeso.Icode.To.Asm -m Aeso.Parse.Lib -m Aeso.Parser -m Aeso.Pretty -m Aeso.Scan -m Aeso.Scan.Lib -m Aeso.Stdlib -m Aeso.Syntax -m Aeso.Syntax.Utils -m Aeso.Utils -m Aeso.Vm.Decode -m Ansi.Codes -m Ansi.Output -m Array -m Base58 -m Base64 -m Control.Alt -m Control.Alternative -m Control.Applicative -m Control.Apply -m Control.Biapplicative -m Control.Biapply -m Control.Bind -m Control.Category -m Control.Comonad -m Control.Comonad.Cofree -m Control.Comonad.Cofree.Class -m Control.Comonad.Env -m Control.Comonad.Env.Class -m Control.Comonad.Env.Trans -m Control.Comonad.Store -m Control.Comonad.Store.Class -m Control.Comonad.Store.Trans -m Control.Comonad.Traced -m Control.Comonad.Traced.Class -m Control.Comonad.Traced.Trans -m Control.Comonad.Trans.Class -m Control.Extend -m Control.Lazy -m Control.Monad -m Control.Monad.Cont -m Control.Monad.Cont.Class -m Control.Monad.Cont.Trans -m Control.Monad.Error.Class -m Control.Monad.Except -m Control.Monad.Except.Trans -m Control.Monad.Fork.Class -m Control.Monad.Free -m Control.Monad.Free.Class -m Control.Monad.Gen -m Control.Monad.Gen.Class -m Control.Monad.Gen.Common -m Control.Monad.List.Trans -m Control.Monad.Maybe.Trans -m Control.Monad.Morph -m Control.MonadPlus -m Control.Monad.Reader -m Control.Monad.Reader.Class -m Control.Monad.Reader.Trans -m Control.Monad.Rec.Class -m Control.Monad.RWS -m Control.Monad.RWS.Trans -m Control.Monad.ST -m Control.Monad.State -m Control.Monad.State.Class -m Control.Monad.State.Trans -m Control.Monad.ST.Class -m Control.Monad.ST.Global -m Control.Monad.ST.Internal -m Control.Monad.ST.Ref -m Control.Monad.Trampoline -m Control.Monad.Trans.Class -m Control.Monad.Writer -m Control.Monad.Writer.Class -m Control.Monad.Writer.Trans -m Control.MonadZero -m Control.Parallel -m Control.Parallel.Class -m Control.Plus -m Control.Semigroupoid -m Crypto -m Data.Argonaut -m Data.Argonaut.Core -m Data.Argonaut.Decode -m Data.Argonaut.Decode.Class -m Data.Argonaut.Decode.Combinators -m Data.Argonaut.Decode.Decoders -m Data.Argonaut.Decode.Error -m Data.Argonaut.Decode.Parser -m Data.Argonaut.Encode -m Data.Argonaut.Encode.Class -m Data.Argonaut.Encode.Combinators -m Data.Argonaut.Encode.Encoders -m Data.Argonaut.Gen -m Data.Argonaut.JCursor -m Data.Argonaut.JCursor.Gen -m Data.Argonaut.Parser -m Data.Argonaut.Prisms -m Data.Argonaut.Traversals -m Data.Array -m Data.ArrayBuffer.ArrayBuffer -m Data.ArrayBuffer.ArrayBuffer.Gen -m Data.ArrayBuffer.DataView -m Data.ArrayBuffer.DataView.Gen -m Data.ArrayBuffer.Typed -m Data.ArrayBuffer.Typed.Gen -m Data.ArrayBuffer.Typed.Unsafe -m Data.ArrayBuffer.Types -m Data.ArrayBuffer.ValueMapping -m Data.Array.NonEmpty -m Data.Array.NonEmpty.Internal -m Data.Array.Partial -m Data.Array.ST -m Data.Array.ST.Iterator -m Data.Array.ST.Partial -m Data.Base58 -m Data.Bifoldable -m Data.Bifunctor -m Data.Bifunctor.Clown -m Data.Bifunctor.Flip -m Data.Bifunctor.Join -m Data.Bifunctor.Joker -m Data.Bifunctor.Product -m Data.Bifunctor.Wrap -m Data.BigInt -m Data.Binary.Base64 -m Data.Bitraversable -m Data.Boolean -m Data.BooleanAlgebra -m Data.Bounded -m Data.CatList -m Data.CatQueue -m Data.Char -m Data.Char.Gen -m Data.CommutativeRing -m Data.Comparison -m Data.Const -m Data.Coyoneda -m Data.Date -m Data.Date.Component -m Data.Date.Component.Gen -m Data.Date.Gen -m Data.DateTime -m Data.DateTime.Gen -m Data.DateTime.Instant -m Data.Decidable -m Data.Decide -m Data.Distributive -m Data.Divide -m Data.Divisible -m Data.DivisionRing -m Data.Either -m Data.Either.Inject -m Data.Either.Nested -m Data.Enum -m Data.Enum.Gen -m Data.Eq -m Data.Equivalence -m Data.EuclideanRing -m Data.Exists -m Data.Field -m Data.Float32 -m Data.Float32.Gen -m Data.Foldable -m Data.FoldableWithIndex -m Data.Function -m Data.Function.Uncurried -m Data.Functor -m Data.Functor.App -m Data.Functor.Compose -m Data.Functor.Contravariant -m Data.Functor.Coproduct -m Data.Functor.Coproduct.Inject -m Data.Functor.Coproduct.Nested -m Data.Functor.Invariant -m Data.Functor.Product -m Data.Functor.Product.Nested -m Data.FunctorWithIndex -m Data.Generic.Rep -m Data.Generic.Rep.Bounded -m Data.Generic.Rep.Enum -m Data.Generic.Rep.Eq -m Data.Generic.Rep.HeytingAlgebra -m Data.Generic.Rep.Monoid -m Data.Generic.Rep.Ord -m Data.Generic.Rep.Ring -m Data.Generic.Rep.Semigroup -m Data.Generic.Rep.Semiring -m Data.Generic.Rep.Show -m Data.HeytingAlgebra -m Data.Identity -m Data.Int -m Data.Int.Bits -m Data.Interval -m Data.Interval.Duration -m Data.Interval.Duration.Iso -m Data.Lazy -m Data.Lens -m Data.Lens.At -m Data.Lens.Common -m Data.Lens.Fold -m Data.Lens.Fold.Partial -m Data.Lens.Getter -m Data.Lens.Grate -m Data.Lens.Index -m Data.Lens.Indexed -m Data.Lens.Internal.Bazaar -m Data.Lens.Internal.Exchange -m Data.Lens.Internal.Focusing -m Data.Lens.Internal.Forget -m Data.Lens.Internal.Grating -m Data.Lens.Internal.Indexed -m Data.Lens.Internal.Market -m Data.Lens.Internal.Re -m Data.Lens.Internal.Shop -m Data.Lens.Internal.Tagged -m Data.Lens.Internal.Wander -m Data.Lens.Internal.Zipping -m Data.Lens.Iso -m Data.Lens.Iso.Newtype -m Data.Lens.Lens -m Data.Lens.Lens.Product -m Data.Lens.Lens.Tuple -m Data.Lens.Lens.Unit -m Data.Lens.Lens.Void -m Data.Lens.Prism -m Data.Lens.Prism.Coproduct -m Data.Lens.Prism.Either -m Data.Lens.Prism.Maybe -m Data.Lens.Record -m Data.Lens.Setter -m Data.Lens.Traversal -m Data.Lens.Types -m Data.Lens.Zoom -m Data.List -m Data.List.Lazy -m Data.List.Lazy.NonEmpty -m Data.List.Lazy.Types -m Data.List.NonEmpty -m Data.List.Partial -m Data.List.Types -m Data.List.ZipList -m Data.Map -m Data.Map.Gen -m Data.Map.Internal -m Data.Maybe -m Data.Maybe.First -m Data.Maybe.Last -m Data.Monoid -m Data.Monoid.Additive -m Data.Monoid.Alternate -m Data.Monoid.Conj -m Data.Monoid.Disj -m Data.Monoid.Dual -m Data.Monoid.Endo -m Data.Monoid.Multiplicative -m Data.NaturalTransformation -m Data.Newtype -m Data.NonEmpty -m Data.Nullable -m Data.Number -m Data.Number.Approximate -m Data.Number.Format -m Data.Op -m Data.Ord -m Data.Ord.Down -m Data.Ordering -m Data.Ord.Max -m Data.Ord.Min -m Data.Ord.Unsafe -m Data.Predicate -m Data.Profunctor -m Data.Profunctor.Choice -m Data.Profunctor.Closed -m Data.Profunctor.Clown -m Data.Profunctor.Cochoice -m Data.Profunctor.Costar -m Data.Profunctor.Costrong -m Data.Profunctor.Cowrap -m Data.Profunctor.Join -m Data.Profunctor.Joker -m Data.Profunctor.Split -m Data.Profunctor.Star -m Data.Profunctor.Strong -m Data.Profunctor.Wrap -m Data.Ratio -m Data.Rational -m Data.Ring -m Data.Semigroup -m Data.Semigroup.First -m Data.Semigroup.Foldable -m Data.Semigroup.Last -m Data.Semigroup.Traversable -m Data.Semiring -m Data.Set -m Data.Set.NonEmpty -m Data.Show -m Data.String -m Data.String.Base64 -m Data.String.Base64.Internal -m Data.String.CaseInsensitive -m Data.String.CodePoints -m Data.String.CodeUnits -m Data.String.Common -m Data.String.Gen -m Data.String.NonEmpty -m Data.String.NonEmpty.CaseInsensitive -m Data.String.NonEmpty.CodePoints -m Data.String.NonEmpty.CodeUnits -m Data.String.NonEmpty.Internal -m Data.String.Pattern -m Data.String.Regex -m Data.String.Regex.Flags -m Data.String.Regex.Unsafe -m Data.String.Unsafe -m Data.Symbol -m Data.TextDecoder -m Data.TextEncoder -m Data.Time -m Data.Time.Component -m Data.Time.Component.Gen -m Data.Time.Duration -m Data.Time.Duration.Gen -m Data.Time.Gen -m Data.Traversable -m Data.Traversable.Accum -m Data.Traversable.Accum.Internal -m Data.TraversableWithIndex -m Data.Tuple -m Data.Tuple.Nested -m Data.Typelevel.Bool -m Data.Typelevel.Num -m Data.Typelevel.Num.Aliases -m Data.Typelevel.Num.Ops -m Data.Typelevel.Num.Reps -m Data.Typelevel.Num.Sets -m Data.Typelevel.Undefined -m Data.UInt -m Data.UInt.Gen -m Data.Unfoldable -m Data.Unfoldable1 -m Data.Unit -m Data.Vec -m Data.Void -m Data.Yoneda -m Debug.Trace -m Dict -m Digraph -m Digraph.Utils -m Eblake2 -m Effect -m Effect.Aff -m Effect.Aff.AVar -m Effect.Aff.Class -m Effect.Aff.Compat -m Effect.AVar -m Effect.Class -m Effect.Class.Console -m Effect.Console -m Effect.Exception -m Effect.Exception.Unsafe -m Effect.Now -m Effect.Random -m Effect.Ref -m Effect.Uncurried -m Effect.Unsafe -m Enacl -m Epp -m Erlang.Binary -m Erlang.Builtins -m Erlang.Exception -m Erlang.Helpers -m Erlang.Invoke -m Erlang.Io -m Erlang.Ioserver -m Erlang.Type -m Erlang.Unicode -m Erlang.Utils -m Erl.Anno -m Erl.Bits -m Erl.Eval -m Erl.Internal -m Erl.Lint -m Erl.Parse -m Erl.Posix.Msg -m Erl.Pp -m Erl.Scan -m Ets -m File -m Filename -m Foreign.Object -m Foreign.Object.Gen -m Foreign.Object.ST -m Foreign.Object.ST.Unsafe -m Foreign.Object.Unsafe -m Gb.Sets -m Gb.Trees -m Getopt -m Global -m Global.Unsafe -m Io.Lib -m Io.Lib.Format -m Io.Lib.Pretty -m Jsx -m Jsx.Config -m Jsx.Consult -m Jsx.Decoder -m Jsx.Encoder -m Jsx.Parser -m Jsx.To.Json -m Jsx.To.Term -m Jsx.Verify -m Lists -m Maps -m Math -m Node.Buffer -m Node.Buffer.Class -m Node.Buffer.Immutable -m Node.Buffer.Internal -m Node.Buffer.ST -m Node.Buffer.Types -m Node.Encoding -m Orddict -m Ordsets -m Os -m Otp.Internal -m Partial -m Partial.Unsafe -m Pipes -m Pipes.Core -m Pipes.Internal -m Pipes.ListT -m Pipes.Prelude -m Prelude -m Prettypr -m Proplists -m PSCI.Support -m Queue -m Rand -m Random.LCG -m Record -m Record.Builder -m Record.ST -m Record.Unsafe -m Record.Unsafe.Union -m Sets -m Sofs -m String -m Type.Data.Boolean -m Type.Data.Ordering -m Type.Data.Row -m Type.Data.RowList -m Type.Data.Symbol -m Type.Equality -m Type.Prelude -m Type.Proxy -m Type.Row -m Type.Row.Homogeneous -m Type.RowList -m Unicode -m Unicode.Util -m Unicode.Util.Compat -m Unsafe.Coerce -o dist/index.js
echo -e "\n\nmodule.exports = PS" >> dist/index.js
runhaskell gen_filesystem.hs aesophia/priv/stdlib > output/File/filemap.json
NODE_OPTIONS=--max-old-space-size=4096 rollup -c
